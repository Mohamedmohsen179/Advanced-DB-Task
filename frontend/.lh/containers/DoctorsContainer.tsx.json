{
    "sourceFile": "containers/DoctorsContainer.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1764347775813,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1764347775813,
            "name": "Commit-0",
            "content": "'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Doctor, PaginatedResponse } from '../types';\r\nimport { apiService } from '../services/api';\r\nimport DoctorTable from '../components/doctors/DoctorTable';\r\n\r\nexport default function DoctorsContainer() {\r\n  const [doctors, setDoctors] = useState<Doctor[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    loadDoctors();\r\n  }, []);\r\n\r\n  const loadDoctors = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response: PaginatedResponse<Doctor> = await apiService.getDoctors();\r\n      \r\n      if (response.success) {\r\n        setDoctors(response.data);\r\n      } else {\r\n        setError('Failed to load doctors');\r\n      }\r\n    } catch (err) {\r\n      setError('An error occurred while loading doctors');\r\n      console.error('Error loading doctors:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (doctor: Doctor) => {\r\n    // TODO: Implement edit functionality\r\n    console.log('Edit doctor:', doctor);\r\n  };\r\n\r\n  const handleDelete = async (doctorId: string) => {\r\n    if (!confirm('Are you sure you want to delete this doctor?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await apiService.deleteDoctor(doctorId);\r\n      // Reload doctors after deletion\r\n      await loadDoctors();\r\n    } catch (err) {\r\n      setError('Failed to delete doctor');\r\n      console.error('Error deleting doctor:', err);\r\n    }\r\n  };\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\r\n        <div className=\"flex\">\r\n          <div className=\"flex-shrink-0\">\r\n            <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n          </div>\r\n          <div className=\"ml-3\">\r\n            <h3 className=\"text-sm font-medium text-red-800\">Error</h3>\r\n            <div className=\"mt-2 text-sm text-red-700\">\r\n              <p>{error}</p>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <button\r\n                onClick={loadDoctors}\r\n                className=\"bg-red-100 px-3 py-2 rounded-md text-sm font-medium text-red-800 hover:bg-red-200\"\r\n              >\r\n                Try Again\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-slate-900 tracking-tight\">Doctors</h1>\r\n          <p className=\"mt-2 text-base text-slate-600\">\r\n            Manage Faculty Doctors Information\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <DoctorTable\r\n        doctors={doctors}\r\n        loading={loading}\r\n        onEdit={handleEdit}\r\n        onDelete={handleDelete}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}